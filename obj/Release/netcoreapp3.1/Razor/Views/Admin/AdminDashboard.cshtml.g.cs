#pragma checksum "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c4316bf322af95679bd5c25f5ee9f40d2acb79a9"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Admin_AdminDashboard), @"mvc.1.0.view", @"/Views/Admin/AdminDashboard.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\luisk\source\repos\Taxes_Data\Views\_ViewImports.cshtml"
using Taxes_Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\luisk\source\repos\Taxes_Data\Views\_ViewImports.cshtml"
using Taxes_Data.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c4316bf322af95679bd5c25f5ee9f40d2acb79a9", @"/Views/Admin/AdminDashboard.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"2eb812c67925586d42a3c4672d1551c53a88c28d", @"/Views/_ViewImports.cshtml")]
    public class Views_Admin_AdminDashboard : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Users>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("form_edit"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 2 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
  
    ViewData["Title"] = "AdminDashBoard";

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<h1>Bienvenido ");
#nullable restore
#line 8 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
          Write(Context.Session.GetString("username").ToString());

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</h1>

<div class=""row m-4"">
    <div class=""col-sm-12"">
        <div class=""card"">
            <div class=""card-header"">
                Taxes Registration

            </div>
            <div class=""card-body"">
                <!--Aqui van los botones-->
                <table id=""table"" class=""table table-striped table-bordered"" style=""width:100%"">
                    <thead>
                        <tr");
            BeginWriteAttribute("class", " class=\"", 590, "\"", 598, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                            <th>Nombre</th>
                            <th>Apellidos</th>
                            <th>No_Telefono</th>
                            <th>Correo</th>
                            <th>Fecha_registro</th>
                            <th></th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
</div>

<!--Modal-->
<div class=""modal fade"" id=""ModalTaxes"" tabindex=""-1"" role=""dialog"" aria-labelledby=""ModalLabelTaxes"" aria-hidden=""true"">
    <div class=""modal-dialog"" role=""document"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h5 class=""modal-title"" id=""ModalLabelTaxes"">New Register</h5>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body"">
              ");
            WriteLiteral("  ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c4316bf322af95679bd5c25f5ee9f40d2acb79a95922", async() => {
                WriteLiteral(@"
                    <input type=""hidden"" id=""txtId"" />
                    <div class=""form-group"">
                        <label for=""txtName"" class=""col-form-label"">Nombre:</label>
                        <input type=""text"" class=""form-control"" id=""txtName"">
                    </div>
                    <div class=""form-group"">
                        <label for=""txtLastName"" class=""col-form-label"">Apellidos:</label>
                        <input type=""text"" class=""form-control"" id=""txtLastName"" />
                    </div>
                    <div class=""form-group"">
                        <label for=""txtPhone"" class=""col-form-label"">Telefono:</label>
                        <input type=""number"" class=""form-control"" id=""txtPhone"" />
                    </div>
                    <div class=""form-group"">
                        <label for=""txtEmail"" class=""col-form-label"">Correo:</label>
                        <input type=""email"" class=""form-control"" id=""txtEmail"" />
                ");
                WriteLiteral(@"    </div>
                    <div class=""form-group"">
                        <label for=""txtDate"" class=""col-form-label"">Fecha Registro:</label>
                        <input type=""datetime-local"" class=""form-control"" id=""txtDate"" onfocus=""InitForm()"" onchange=""ValidateDate()"" />
                    </div>
                ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
            </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-danger"" data-dismiss=""modal"">Close</button>
                <button type=""button"" class=""btn btn-primary"" onclick=""SaveTaxes()"">Save</button>
            </div>
        </div>
    </div>
</div>



");
            DefineSection("Scripts", async() => {
                WriteLiteral("\r\n\r\n\r\n    <script type=\"text/javascript\">\r\n        var tableTaxes;\r\n        $(document).ready(function () {\r\n            tableTaxes=$(\'#table\').DataTable({\r\n                \"ajax\": {\r\n                    \"url\": \"");
#nullable restore
#line 89 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                       Write(Url.Action("Listar","Admin"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@""",
                    ""type"": ""GET"",
                    ""datatype"": ""json""
                },

                ""columns"": [
                    { ""data"": ""nombre"" },
                    { ""data"": ""apellidos"" },
                    { ""data"": ""noTelefono"" },
                    { ""data"": ""correo"" },
                    { ""data"": ""fechaRegistro"" },
                    {
                        ""data"": ""id"", ""render"": function (data) {
                            return ""<button class='btn btn-primary btn-sm' type='button' onclick='Edit("" + data + "")' data-toggle='modal' data-target='#ModalTaxes'><i class='bi bi-pencil-square'></i></button>"" +
                                ""<button class='btn btn-danger btn-sm mt-2' type='button' onclick='Delete("" + data + "")'><i class='bi bi-trash-fill'></i></button>""
                        },
                        ""orderable"": false,
                        ""searchable"": true,
                        ""width"": ""15px""
                    }
             ");
                WriteLiteral(@"   ],
                dom: 'Bfrtip',
                buttons: [

                    {
                        text: '<i class=""bi bi-person-add""></i>',
                        titleAttr: 'Add',
                        className: 'btn btn-info btn-sm btn-xl btn-md',
                        action: function (e, dt, node, config) {
                            Edit(0);
                        }
                    },
                    {
                        extend: 'excel',
                        text: '<i class=""bi bi-file-earmark-excel-fill""></i>',
                        titleAttr: 'Excel Export',
                        className: 'btn btn-success btn-sm btn-xl btn-md'
                    },
                    {
                        extend: 'pdf',
                        text: '<i class=""bi bi-file-earmark-pdf-fill""></i>',
                        titleAttr: 'PDF Export',
                        className: 'btn btn-danger btn-sm btn-xl btn-md'
                    },

       ");
                WriteLiteral(@"             {
                        text: '<i class=""bi bi-trash""></i>',
                        titleAttr: 'Delete All',
                        className: 'btn btn-warning btn-sm btn-xl btn-md',
                        action: function () {
                            if (confirm(""Deseas eliminar todo?, si lo eliminas no se podra recuperar"")) {
                                self.location.href = """);
#nullable restore
#line 140 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                                                 Write(Url.Action("RemoveAll", "Admin"));

#line default
#line hidden
#nullable disable
                WriteLiteral("\";\r\n                                //location.href = ");
#nullable restore
#line 141 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                                             Write(Url.Action("RemoveAll", "Admin"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@";
                            }
                        }
                    }
                ]

            });
        });

        function Edit(id) {
            $('#txtId').val(id);

            //Determine if Id exist to update
           if (id != 0) {
                jQuery.ajax({
                    url: """);
#nullable restore
#line 156 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                     Write(Url.Action("GetTaxesId", "Admin"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@""" + ""?id="" + id,
                    type: ""GET"",
                    dataType: ""json"",
                    contentType: ""application/json; charset-utf-8"",
                    success: function (data) {
                        //console.log(id);
                        if (data != null) {
                            $('#ModalLabelTaxes').text(""Editar cita "");
                            $('#txtName').val(data.nombre);
                            $('#txtLastName').val(data.apellidos);
                            $('#txtPhone').val(data.noTelefono);
                            $('#txtEmail').val(data.correo);
                            $('#txtDate').val(data.fechaRegistro);
                            $('#ModalTaxes').modal(""show"");
                        } else {

                            alert('!Base de datos llena!, descargue la informacion para despues eliminarla');
                            $('#ModalTaxes').modal(""hide"");
                        }
                    }
          ");
                WriteLiteral(@"      });
           } else {
               $('#ModalLabelTaxes').text(""Crear cita"");
                $('#txtName').val('');
                $('#txtLastName').val('');
                $('#txtPhone').val('');
                $('#txtEmail').val('');
               $('#txtDate').val('');
               $('#ModalTaxes').modal(""show"");
            }

        }

        function SaveTaxes() {
            jQuery.ajax({
                url: """);
#nullable restore
#line 191 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                 Write(Url.Action("Guardar", "Admin", ""));

#line default
#line hidden
#nullable disable
                WriteLiteral(@""",
                data: {
                Id: $('#txtId').val(),
                Nombre: $('#txtName').val(),
                Apellidos: $('#txtLastName').val(),
                NoTelefono: $('#txtPhone').val(),
                Correo: $('#txtEmail').val(),
                FechaRegistro:$('#txtDate').val()
                },
                type: ""POST"",
                success: function (data) {
                    if (data.resultado) {
                    tableTaxes.ajax.reload();
                    alert(""Datos guardados exitosamente"");
                    } else {
                    //alert('!Base de datos llena!, descargue la informacion para despues eliminarla');
                        alert(data.answer);
                    }
                        $('#ModalTaxes').modal(""hide"");
                    },
                    error: function (response) {
                        alert(response);
                    }

                    });
                }

        functio");
                WriteLiteral("n Delete(id) {\r\n            if (confirm(\"Deseas eliminarlo? \")) {\r\n                jQuery.ajax({\r\n                    url: \"");
#nullable restore
#line 221 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                     Write(Url.Action("Eliminar", "Admin"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@""" + ""?id="" + id,
                    type: ""GET"",
                    dataType: ""json"",
                    contentType: ""application/json; charset-utf-8"",
                    success: function (data) {
                        if (data.resultado) {
                            tableTaxes.ajax.reload();
                        }   
                    }   
                })
            }
        }

                function InitForm() {
                let year = ");
#nullable restore
#line 235 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                      Write(DateTime.Now.Year.ToString());

#line default
#line hidden
#nullable disable
                WriteLiteral(";\r\n                let month = ");
#nullable restore
#line 236 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                       Write(DateTime.Now.Month);

#line default
#line hidden
#nullable disable
                WriteLiteral(">= 10 ? ");
#nullable restore
#line 236 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                                                  Write(DateTime.Now.Month.ToString());

#line default
#line hidden
#nullable disable
                WriteLiteral(": \'0\' +");
#nullable restore
#line 236 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                                                                                       Write(DateTime.Now.Month.ToString());

#line default
#line hidden
#nullable disable
                WriteLiteral(";\r\n                let day = ");
#nullable restore
#line 237 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                     Write(DateTime.Now.Day);

#line default
#line hidden
#nullable disable
                WriteLiteral(">= 10 ? ");
#nullable restore
#line 237 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                                              Write(DateTime.Now.Day.ToString());

#line default
#line hidden
#nullable disable
                WriteLiteral(": \'0\' +");
#nullable restore
#line 237 "C:\Users\luisk\source\repos\Taxes_Data\Views\Admin\AdminDashboard.cshtml"
                                                                                 Write(DateTime.Now.Day.ToString());

#line default
#line hidden
#nullable disable
                WriteLiteral(@";
                $('#txtDate').attr({
                ""min"": year + '-' + month + '-' + day + 'T09:00',
                ""max"": '2023-06-30T18:00:00'
                })
                }

        function ValidateDate() {
            //let hour = $('#txtDate').val().substring(11)
            let getHours = new Date($('#txtDate').val()).getHours();
            let minute = new Date($('#txtDate').val()).getMinutes();
            //alert(minute)
            //alert(getHours)

            if ((getHours === 13) || (getHours === 14 && minute===0)) {
                alert('No hay citas disponibles de 1 a 2 pm')
                $('#txtDate').val('')
                } else if (getHours >= 1 && getHours<=8) {
                alert('Las citas empiezan a partir de las 9 am')
                $('#txtDate').val('')
                }
                else if (getHours >= 18) {
                alert('Ya no se hacen citas de las 6 pm en adelante')
                $('#txtDate').val('')
                }
");
                WriteLiteral("         }\r\n\r\n    </script>\r\n");
            }
            );
            WriteLiteral("\r\n\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Users> Html { get; private set; }
    }
}
#pragma warning restore 1591
